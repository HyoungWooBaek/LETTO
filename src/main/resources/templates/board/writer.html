<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <meta charset="UTF-8">
    <title>LETTO</title>
    <link rel="stylesheet" th:href="@{/css/boardwriteform.css}">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
</head>

<div layout:fragment="content">
    <form action="../admin/post" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <div class="container">
            <div class = "row">
                <div class="col-xs-8">
                    <div class="form-group">
                        <label for="title">제목</label>
                        <input class="form-control" type="text" id="title" name="title" placeholder="제목을 입력 해주세요.">
                    </div>
                    <div class="form-group">
                        <label for="writer">작성자</label>
                        <input class="form-control" type="text" name="writer" id="writer" placeholder="작성자를 입력 해주세요.">
                    </div>
                    <div class="form-group">
                        <label for="content">내용</label>
                        <textarea class="form-control_content" type="text" name="content" id="content" placeholder="내용을 입력 해주세요." wrap="hard"></textarea>
                        <!--
                        <input type="hidden" name="content" id="content" placeholder="내용을 입력 해주세요.">
                        <div id="editor-container">
                        </div>
                        -->
                    </div>
                    <button class = "btn btn-primary" type="submit" value="등록">게시하기</button>
                    <input type="button" class = "btn btn-primary" value="취소" onclick="history.back(-1);"></input>
                </div>
            </div>
        </div>
    </form>
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script>
        var str = document.getElementById("content").value;

        str = str.replace(/(?:\r\n|\r|\n)/g, '<br/>');

        document.getElementById("content").value = str;

        //const quill = new Quill('#editor-container', {
        //    modules: {
        //        toolbar: [
        //            ['bold', 'italic'],
        //            ['link', 'blockquote', 'code-block'],
        //            [{ list: 'ordered' }, { list: 'bullet' }]
        //        ]
        //    },
        //    placeholder: '내용을 작성 해주세요...',
        //    theme: 'snow'
        //});

        //var form = document.querySelector("form");
        //var hiddenInput = document.querySelector('#content');

        //form.addEventListener('submit', function(e){
        //    hiddenInput.value = quill.root.innerHTML;
        //});

        //document.getElementById('content').value = JSON.stringify(quill.getContents());

    </script>
</div>
</html>